---
title: "deistools"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#deistools
deistools es un paquete que simplifica la realización de tareas habituales de las áreas de bioestadística.

Instalación:
```{r, eval=FALSE}
install.packages(c('devtools','tidyverse','readxl','stringr'))
devtools::install_github('diegogarcilazo/deistools')
```

###Funciones de Chequeo
El paquete deistools tiene incorporadas funciones para validar la información de las bases de mortalidad generadas por la DEIS. El primer grupo de validaciones son aquellas utilizadas para el control y reparación de la información.

Las validaciones utilizadas se las divide en 6 indicadores:

Errores (errors) \*:

- **Asterisco:** Son codigos válidos como códigos adicionales pero no se aceptan como causa básica de muerte(CBM).
- **No CBD:** Código que no es válido como CBM.
- **Limitado** a un sexo: restricción del código asociado al género.
- **Límite de edad:** código limitado a un rango de edad.

 Alertas (warnings)\*:

- **Trivial:** Son condiciones poco probables como causa de muerte.
- **SMD:** sospecha de muerte materna.


\* Fuente de información: Se utilizó la tablas sugeridas por http://www.paho.org/hq/index.php?option=com_docman&task=doc_download&gid=23700&Itemid=270&lang=en

##Crear instancia

La `checkCie10$new(args)` crea el objeto de clase checkCie10 que nos permitirá utilizar los métodos de chequeo. Se debe iniciar con los datos de edad, unidad de la edad, código de muerte, sexo y las variables que consideremos de identificación de los registros.

```{r}
suppressMessages(library(tidyverse))
library(deistools)

chequeo <- checkCie10$new(deistools::test_df, edad, unieda, codmuer, sexo, id)

```


## Métodos para generar listas.

**list_problems**: Lista los certificados con problemas (errores y/o warnings)


```{r}

chequeo$list_problems()
 
```

**list_enos**: Lista los certificados con códigos de enfermedades de notificación obligatoria.


```{r}

chequeo$list_enos()
 
```

**list_unknown**: Lista los certificados con problemas (errores y/o warnings)


```{r}

chequeo$list_unknown()
 
```

**list_all**: Lista todos los certificados.


```{r}

chequeo$list_all()
 
```

## Métodos para generar gráficos.

**plot_missing**: crear un gráfico de raster rellenando con color aquellos registros con datos y dejando en blanco los NA.


```{r}

chequeo$plot_missing()
 
```

**plot_useless**: crea un gráfico d barras con el porcentaje de códigos poco útiles por grupos de edad.


```{r}

chequeo$plot_useless()
 
```


